<?xml version="1.0"?>
<!--
#####################################################################################
##TCP Source: Original GNU Radio block was deprecated.  This is to preserve original
#####################################################################################
 -->
<block>
	<name>TCP Source (grnet)</name>
	<key>grnet_tcp_source</key>
	<category>[GrNet Networking Tools]</category>
	<import>import grnet</import>
	<make>grnet.tcp_source.tcp_source(
	itemsize=$type.size*$vlen,
	addr=$addr,
	port=$port,
	server=$server,
)</make>
	<param>
		<name>Output Type</name>
		<key>type</key>
		<type>enum</type>
		<option>
			<name>Complex</name>
			<key>complex</key>
			<opt>size:gr.sizeof_gr_complex</opt>
		</option>
		<option>
			<name>Float</name>
			<key>float</key>
			<opt>size:gr.sizeof_float</opt>
		</option>
		<option>
			<name>Int</name>
			<key>int</key>
			<opt>size:gr.sizeof_int</opt>
		</option>
		<option>
			<name>Short</name>
			<key>short</key>
			<opt>size:gr.sizeof_short</opt>
		</option>
		<option>
			<name>Byte</name>
			<key>byte</key>
			<opt>size:gr.sizeof_char</opt>
		</option>
	</param>
	<param>
		<name>Address</name>
		<key>addr</key>
		<value>127.0.0.1</value>
		<type>string</type>
	</param>
	<param>
		<name>Port</name>
		<key>port</key>
		<value>0</value>
		<type>int</type>
	</param>
	<param>
		<name>Mode</name>
		<key>server</key>
		<value>True</value>
		<type>enum</type>
		<option>
			<name>Server</name>
			<key>True</key>
		</option>
		<option>
			<name>Client</name>
			<key>False</key>
		</option>
	</param>
	<param>
		<name>Vec Length</name>
		<key>vlen</key>
		<value>1</value>
		<type>int</type>
	</param>
	<check>$vlen &gt; 0</check>
	<source>
		<name>out</name>
		<type>$type</type>
		<vlen>$vlen</vlen>
	</source>
	<doc>
	NOTE: This block is the original GNU Radio TCP Source block, incorporated here due to deprecation.  Attempts were made to rewrite this block with boost, however boost would lose data and the root cause was never uncovered.  May be why GNU Radio chose to implement this in Python as well.
	
In client mode, we attempt to connect to a server at the given address and port. \
In server mode, we bind a socket to the given address and port and accept the first client.
	</doc>
</block>
